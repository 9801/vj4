@import './var.inc.styl'

.nav--placeholder
  height: $nav-item-height

.nav
  position: fixed
  left: 0
  top: 0
  width: 100%
  height: rem($nav-item-height)
  font-size: 0.9rem
  transition: background .2s
  transition-timing-function: ease-out-cubic
  z-index: 500

.nav--shadow
  position: fixed
  left: 0
  top: 0
  width: 100%
  height: rem($nav-item-height)
  z-index: 300
  transition: box-shadow .2s
  transition-timing-function: ease-out-cubic

.nav__list, .nav__list-item
  list-style: none

.nav__list--main
  float: left

.nav__item
  display: block
  line-height: rem($nav-item-height - 6)
  padding: rem(0 20px 3px 20px)
  border-top: 3px solid transparent
  color: #FFF
  transition: border-color .2s, background .2s, color .2s
  transition-timing-function: ease-out-cubic

  &:visited, &:active
    color: #FFF
  &:hover
    text-decoration: none
    border-color: $nav-item-hover-color
    background: rgba(#FFF, 0.15)

.nav__list--secondary
  float: right

.nav__item--round
  display: block
  line-height: rem($nav-item-round-height - 2 * $nav-item-round-border)
  margin: rem((($nav-item-height - $nav-item-round-height) / 2) 0)
  padding: rem(0 25px)
  border-radius: rem($nav-item-round-height / 2)
  color: #FFF
  border: $nav-item-round-border solid #FFF
  transition: background .2s, color .2s, border-color .2s
  transition-timing-function: ease-out-cubic

  &:visited, &:active
    color: #FFF

  &:hover
    text-decoration: none
    background: #FFF
    color: #666

.nav__list-item
  float: left

.nav__list--main .nav__item--round
  margin-right: rem(5px)

.nav__list--secondary .nav__item--round
  margin-left: rem(5px)

.nav__logo
  display: block
  width: 0
  opacity: 0
  height: rem($nav-logo-height)
  margin: rem((($nav-item-height - $nav-logo-height) / 2) 0)
  background: url('nav-logo-small_light.png') no-repeat
  transition: width .3s, opacity .3s
  transition-timing-function: ease-out-cubic
  +retina()
    background: url('nav-logo-small@2x_light.png') no-repeat
    background-size: $nav-logo-width $nav-logo-height

  &:hover
    text-decoration: none

.nav.showlogo, .layout--immersive
  .nav__logo
    width: rem($nav-logo-width + 10)
    opacity: 1

.nav.floating
  background: rgba(#FFF, 0.98)

  .nav__item
    color: $text-color
    &:visited, &:active
      color: $text-color
    &:hover
      background: #F8F8F8

  .nav__item--round
    border-color: $primary-color
    color: $primary-color

    &:hover
      background-color: $primary-color
      color: #FFF

  .nav__logo
    background-image: url('nav-logo-small_dark.png')
    +retina()
      background-image: url('nav-logo-small@2x_dark.png')

.nav--shadow.floating
  box-shadow: 0 0 6px rgba(#000, 0.3)
